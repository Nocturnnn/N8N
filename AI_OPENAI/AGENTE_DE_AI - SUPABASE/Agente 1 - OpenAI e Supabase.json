{
  "name": "Agente 1 - OpenAI e Supabase",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        -304,
        0
      ],
      "id": "9bfa9be9-3163-47ce-a24f-e936ef31cdd6",
      "name": "When chat message received",
      "webhookId": "89ad3245-d26f-4d67-8b5d-77cc99eb82b5"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "Ao Consultar a tabela de games, o sistema deverá retornar todos seus dados e fazer oque o usuário pede."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        -144,
        0
      ],
      "id": "d420dd37-4f4b-4b04-adf1-45f8a8150656",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-5-nano",
          "mode": "list",
          "cachedResultName": "gpt-5-nano"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -192,
        192
      ],
      "id": "4a6d8d61-1eee-4473-b2b6-a97450ac92cb",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "JOqLvfTuYC8xacam",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "Essa ferramenta tem como objetivo consultar os games no banco de dados",
        "operation": "getAll",
        "tableId": "games",
        "returnAll": true,
        "matchType": "allFilters"
      },
      "type": "n8n-nodes-base.supabaseTool",
      "typeVersion": 1,
      "position": [
        96,
        192
      ],
      "id": "dd81fb8b-bc0d-4923-9bf6-d4e1dc560f39",
      "name": "Consulta de Jogos",
      "credentials": {
        "supabaseApi": {
          "id": "c37ydUGwVtjbcpVB",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -48,
        192
      ],
      "id": "9f92f1a8-9669-4eba-9d18-20f009eeed78",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "operation": "update",
        "tableId": "games",
        "filters": {
          "conditions": [
            {
              "keyName": "id",
              "condition": "eq",
              "keyValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('conditions0_Field_Value', ``, 'string') }}"
            }
          ]
        },
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldId": "stock",
              "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('fieldValues0_Field_Value', ``, 'string') }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabaseTool",
      "typeVersion": 1,
      "position": [
        240,
        192
      ],
      "id": "e69c72bd-f503-45ba-913c-424576c44ae0",
      "name": "Att de estoque",
      "credentials": {
        "supabaseApi": {
          "id": "c37ydUGwVtjbcpVB",
          "name": "Supabase account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Consulta de Jogos": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        []
      ]
    },
    "Att de estoque": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "dbf482f1-89f8-4d39-9952-a3277351b43a",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "47b6c29005312cd71f974d85ca071e587d52d442a7ce04e1a418df7382c639ca"
  },
  "id": "JuCnakyU5s8rL6ZD",
  "tags": []
}